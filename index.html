<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>Ember Starter Kit</title>
  <link rel="stylesheet" href="normalize.css">
  <script src="jquery.js"></script>
  <script src="handlebars.js"></script>
  <script src="ember-template-compiler.js"></script>
  <script src="ember.js"></script>
</head>
<body>

  <script type="text/x-handlebars">
    <h2> Welcome to Ember.js</h2>

    {{link-to 'Go to Foo' 'foo'}}
    {{link-to 'Go to Index' 'index'}}
    {{outlet}}
  </script>

  <script type="text/x-handlebars" data-template-name="index">
    <h2>Index</h2>
  </script>
  
   <script type="text/x-handlebars" data-template-name="foo">
    <h2>Foo</h2>
  </script>
  <script type="text/javascript" charset="utf-8">
   App = Ember.Application.create();

App.Router.reopen({
  location: 'history'
});

App.Router.map(function() {
  this.route('foo');
});

App.IndexRoute = Ember.Route.extend({
  actions:{
    willTransition: function(transition){
      console.log("Start transition to Foo.");
      alert('About to leave Index');
      console.log('End of Index');
    }
  }
});

App.FooRoute = Ember.Route.extend({
  model: function() {
    console.log("Beginning of Foo.");
    return ['foo'];
  }
});
  </script>
</body>
</html>

